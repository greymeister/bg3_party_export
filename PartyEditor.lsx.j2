<?xml version="1.0" encoding="UTF-8"?>
<save>
    {%- set factions = ["6545a015-1b3d-66a4-6a0e-6ec62065cdb7", "9fac6ec7-642b-3553-1bc8-6b8e0edae7d5", "286958be-0845-b4ee-611f-1a9c27dcbe10", "e69da880-4178-0d67-846d-bf65f8750ce3"] %}
    <version major="4" minor="0" revision="9" build="328"/>
    <region id="PartyPreset">
        <node id="root">
            <children>
                <node id="Presets">
                    <children>
                        {%- for character in characters %}
                        {%- set origin = character.ServerCharacter.Template.TemplateName is defined and character.ServerCharacter.Template.TemplateName|length > 0 %}
                        <node id="Preset">
                            {%- if origin %}
                            <attribute id="CharacterUUID" type="guid" value="{{ character.ServerCharacter.Template.Id }}"/>
                            {%- endif %}
                            <attribute id="FactionId" type="guid" value="{{ factions[loop.index0] }}"/>
                            {#-
                            <!-- Seems to have issues using values from SE, just using static for now -->
                            <attribute id="Level" type="FixedString" value="{{ character.ServerCharacter.Level }}"/>
                            <attribute id="Position" type="fvec3">
                                <float3 x="{{ character.Transform.Transform.Translate[0] }}" y="{{ character.Transform.Transform.Translate[1] }}" z="{{ character.Transform.Transform.Translate[2] }}"/>
                            </attribute>
                            <attribute id="Rotation" type="fvec4">
                                <float4 x="{{ character.Bound.Bound.RotationQuat[0] }}" y="{{ character.Bound.Bound.RotationQuat[1] }}" z="{{ character.Bound.Bound.RotationQuat[2] }}" w="{{ character.Bound.Bound.RotationQuat[3] }}"/>
                            </attribute>
                            #}
                            <attribute id="Level" type="FixedString" value="TUT_Avernus_C"/>
                            <attribute id="Position" type="fvec3">
                                <float3 x="36.402222" y="17.642653" z="-422.30966"/>
                            </attribute>
                            <attribute id="Rotation" type="fvec4">
                                <float4 x="0" y="0.82353652" z="0" w="0.56726342"/>
                            </attribute>
                            <attribute id="TotalExperience" type="int32" value="{{ character.Experience.TotalExperience }}"/>
                            <children>
                                <node id="BlockedDebugTags"/>
                                <node id="DebugTags"/>
                                <node id="FullDefinition">
                                    {%- if character.CharacterCreationStats.Name is defined and character.CharacterCreationStats.Name|length > 0 %}
                                    <attribute id="CustomName" type="LSString" value="{{ character.CharacterCreationStats.Name }}"/>
                                    {%- elif character.Origin.Origin is defined and character.Origin.Origin|length > 0 %}
                                    <attribute id="CustomName" type="LSString" value="{{ character.Origin.Origin }}"/>
                                    {%- else %}
                                    <attribute id="CustomName" type="LSString" value=""/>
                                    {%- endif %}
                                    <children>
                                        <node id="Appearance">
                                            {#- <!-- TODO Check if this is the right place to get AccessorySet --> #}
                                            <attribute id="AccessorySet" type="guid" value="{{ character.CCLevelUp.LevelUps[0].AccessorySet }}"/>
                                            {%- if character.CustomIcon.Buffer is defined and character.CustomIcon.Buffer.Buffer|length > 0 %}
                                            <attribute id="CustomIcon" type="ScratchBuffer" value="{{ character.CustomIcon.Buffer.Buffer }}"/>
                                            {%- else %}
                                            <attribute id="CustomIcon" type="ScratchBuffer" value="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"/>
                                            {%- endif %}
                                            <attribute id="EyeColor" type="guid" value="{{ character.CharacterCreationAppearance.EyeColor }}"/>
                                            <attribute id="HairColor" type="guid" value="{{ character.CharacterCreationAppearance.HairColor }}"/>
                                            <attribute id="HeterochromiaEyeColor" type="guid" value="{{ character.CharacterCreationAppearance.SecondEyeColor }}"/>
                                            <attribute id="SkinColor" type="guid" value="{{ character.CharacterCreationAppearance.SkinColor }}"/>
                                            <children>
                                                <node id="MaterialSettings">
                                                    <children>
                                                        {%- for element in character.CharacterCreationAppearance.Elements %}
                                                        <node id="MaterialSetting">
                                                            <attribute id="Metalness" type="float" value="{{ element.MetallicTint }}"/>
                                                            <attribute id="Roughness" type="float" value="{{ element.GlossyTint }}"/>
                                                            <attribute id="Color" type="guid" value="{{ element.Color }}"/>
                                                            <attribute id="Intensity" type="float" value="{{ element.ColorIntensity }}"/>
                                                            <attribute id="Material" type="guid" value="{{ element.Material }}"/>
                                                        </node>
                                                        {%- endfor %}
                                                    </children>
                                                </node>
                                                {#- <!-- TODO Not sure if this is necessary for anything, it's all 0's in the existing templates --> #}
                                                {%- if character.CharacterCreationAppearance.Visuals is defined and character.CharacterCreationAppearance.Visuals|length > 0  and 0 > 1%}
                                                <node id="ScalarParameters">
                                                    <children>
                                                        {%- for choice in character.CharacterCreationAppearance.AdditionalChoices %}
                                                        <node id="ScalarParameter">
                                                            <attribute id="Object" type="float" value="{{ choice }}"/>
                                                        </node>
                                                        {%- endfor %}
                                                    </children>
                                                </node>
                                                {%- else %}
                                                <node id="ScalarParameters"/>
                                                {%- endif %}
                                                {%- if character.CharacterCreationAppearance.Visuals is defined and character.CharacterCreationAppearance.Visuals|length > 0 %}
                                                <node id="Visuals">
                                                    <children>
                                                        {%- for visual in character.CharacterCreationAppearance.Visuals %}
                                                        <node id="Visual">
                                                            <attribute id="Object" type="guid" value="{{ visual }}"/>
                                                        </node>
                                                        {%- endfor %}
                                                    </children>
                                                </node>
                                                {%- else %}
                                                <node id="Visuals"/>
                                                {%- endif %}
                                            </children>
                                        </node>
                                        <node id="Basics">
                                            <attribute id="Background" type="guid" value="{{ character.Background.Background }}"/>
                                            <attribute id="BodyShape" type="uint8" value="{{ character.CharacterCreationStats.BodyShape }}"/>
                                            <attribute id="BodyType" type="uint8" value="{{ character.CharacterCreationStats.BodyType }}"/>
                                            <attribute id="God" type="guid" value="{{ character.God.God }}"/>
                                            <attribute id="Identity" type="uint8" value="{{ character.Identity.field_0 }}"/>
                                            <attribute id="Origin" type="guid" value="{{ character.Origin.field_18 }}"/>
                                            <attribute id="Race" type="guid" value="{{ character.CharacterCreationStats.Race }}"/>
                                            {%- if origin %}
                                            <attribute id="RootTemplateID" type="guid" value="{{ character.ServerCharacter.Template.TemplateName }}"/>
                                            {%- else %}
                                            <attribute id="RootTemplateID" type="guid" value="{{ character.ServerCharacter.Template.Id }}"/>
                                            {%- endif %}
                                            <attribute id="SubRace" type="guid" value="{{ character.CharacterCreationStats.SubRace }}"/>
                                            <attribute id="Voice" type="guid" value="{{ character.Voice.Voice }}"/>
                                        </node>
                                        {#-  <!-- TODO No example of how to populate this --> #}
                                        {%- if character.LearnedSpells.field_18["a865965f-501b-46e9-9eaa-7748e8c04d09"]|length > 0  and 0 > 1%}
                                        <node id="LearnedSpells">
                                            <children>
                                                <node id="LearnedSpell">
                                                    <attribute id="ProgressionSource" type="guid" value="a865965f-501b-46e9-9eaa-7748e8c04d09"/>
                                                    <children>
                                                        <node id="Zone_GustOfWind"/>
                                                    </children>
                                                </node>
                                            </children>
                                        </node>
                                        {%- else %}
                                        <node id="LearnedSpells"/>
                                        {%- endif %}
                                        <node id="LevelUps">
                                            <children>
                                                {%- for level_up in character.CCLevelUp.LevelUps %}
                                                <node id="LevelUp">
                                                    <attribute id="AccessorySet" type="guid" value="{{ level_up.AccessorySet }}"/>
                                                    <attribute id="Class" type="guid" value="{{ level_up.Class }}"/>
                                                    <attribute id="Feat" type="guid" value="{{ level_up.Feat }}"/>
                                                    <attribute id="SubClass" type="guid" value="{{ level_up.SubClass }}"/>
                                                    <children>
                                                        <node id="AbilityImprovements">
                                                            <children>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[0] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[1] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[2] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[3] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[4] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[5] }}"/>
                                                                </node>
                                                                <node id="AbilityImprovement">
                                                                    <attribute id="Object" type="int32" value="{{ level_up.Abilities[6] }}"/>
                                                                </node>
                                                            </children>
                                                        </node>
                                                        {#- <!-- TODO It seems like the templates preserve the chosen prepared spells for each level, instead just use the last list --> #}
                                                        {%- if loop.last and character.PlayerPrepareSpell.Spells is defined and character.PlayerPrepareSpell.Spells|length > 0 %}
                                                        <node id="PreparedSpells">
                                                            <children>
                                                                {%- for spell in character.PlayerPrepareSpell.Spells %}
                                                                <node id="PreparedSpellSlot">
                                                                    <attribute id="OriginatorPrototype" type="FixedString" value="{{ spell.OriginatorPrototype }}"/>
                                                                    <attribute id="ProgressionSource" type="guid" value="{{ spell.ProgressionSource }}"/>
                                                                    <attribute id="SourceType" type="uint8" value="{{ spell_source_map[spell.SourceType] }}"/>
                                                                </node>
                                                                {%- endfor %}
                                                            </children>
                                                        </node>
                                                        {%- else %}
                                                        <node id="PreparedSpells">
                                                            <children>
                                                                <node id="PreparedSpellSlots"/>
                                                            </children>
                                                        </node>
                                                        {%- endif %}
                                                        <node id="Selectors">
                                                            <children>
                                                                {%- if level_up.Upgrades.AbilityBonuses is defined and level_up.Upgrades.AbilityBonuses|length > 0 %}
                                                                <node id="AbilityBonusSelectors">
                                                                    <children>
                                                                        {%- for ability_bonus in level_up.Upgrades.AbilityBonuses %}
                                                                        <node id="AbilityBonusSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="IsMulticlass" type="bool" value="{{ ability_bonus.Multiclass|string|lower }}"/>
                                                                            <attribute id="Level" type="int32" value="{{ ability_bonus.Level }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ ability_bonus.AbilityBonus }}"/>
                                                                            <attribute id="OwnerType" type="uint8" value="{{ ability_bonus.Type }}"/>
                                                                            <attribute id="OwnerUUID" type="guid" value="{{ ability_bonus.Class }}"/>
                                                                            <attribute id="ParentOwnerUUID" type="guid" value="{{ ability_bonus.SubClass }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value="{{ ability_bonus.BonusType }}"/>
                                                                            <children>
                                                                                <node id="SlotBonusValues">
                                                                                    <children>
                                                                                        {%- for amount in ability_bonus.BonusAmounts %}
                                                                                        <node id="SlotBonusValue">
                                                                                            <attribute id="Object" type="int32" value="{{ amount }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                                <node id="Slots">
                                                                                    <children>
                                                                                        {%- for value in ability_bonus.Bonuses %}
                                                                                        <node id="Slot">
                                                                                            <attribute id="Value" type="uint8" value="{{ attribute_map[value] }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="AbilityBonusSelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.Feats is defined and level_up.Upgrades.Feats|length > 0 %}
                                                                <node id="AbilitySelectors">
                                                                    <children>
                                                                        {%- for feat in level_up.Upgrades.Feats %}
                                                                        <node id="AbilitySelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="IsMulticlass" type="bool" value="{{ feat.Multiclass|string|lower }}"/>
                                                                            <attribute id="Level" type="int32" value="{{ feat.Level }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ feat.Feat }}"/>
                                                                            <attribute id="OwnerType" type="uint8" value="{{ feat.Type }}"/>
                                                                            <attribute id="OwnerUUID" type="guid" value="{{ feat.Class }}"/>
                                                                            <attribute id="ParentOwnerUUID" type="guid" value="{{ feat.Subclass }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value="{{ feat.FeatName }}"/>
                                                                            <children>
                                                                                <node id="Slots">
                                                                                    <children>
                                                                                        {%- for slot in feat.Array_b8 %}
                                                                                        <node id="Slot">
                                                                                            <attribute id="Value" type="uint8" value="{{ slot }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="AbilitySelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.Equipment is defined and level_up.Upgrades.Equipment|length > 0 %}
                                                                <node id="EquipmentSelectors">
                                                                    <children>
                                                                        {%- for equipment in level_up.Upgrades.Equipment %}
                                                                        <node id="EquipmentSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="IsMulticlass" type="bool" value="{{ equipment.Multiclass|string|lower }}"/>
                                                                            <attribute id="Level" type="int32" value="{{ equipment.Level }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ equipment.EquipmentList }}"/>
                                                                            <attribute id="OwnerType" type="uint8" value="{{ equipment.Type }}"/>
                                                                            <attribute id="OwnerUUID" type="guid" value="{{ equipment.Class }}"/>
                                                                            <attribute id="ParentOwnerUUID" type="guid" value="{{ equipment.Subclass }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value="{{ equipment.SelectorId }}"/>
                                                                            <children>
                                                                                <node id="Slots">
                                                                                    <children>
                                                                                        {%- for name in equipment.Equipment %}
                                                                                        <node id="Slot">
                                                                                            <attribute id="Value" type="FixedString" value="{{ name }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="EquipmentSelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.Passives is defined and level_up.Upgrades.Passives|length > 0 %}
                                                                <node id="PassiveSelectors">
                                                                    <children>
                                                                        {%- for passive in level_up.Upgrades.Passives %}
                                                                        <node id="PassiveSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ passive.PassiveList }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value="{{ passive.SelectorId }}"/>
                                                                            <children>
                                                                                <node id="AdditionSlots">
                                                                                    <children>
                                                                                        {%- for name in passive.Passives %}
                                                                                        <node id="AdditionSlot">
                                                                                            <attribute id="Value" type="FixedString" value="{{ name }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                                {#- <!-- TODO Replacement Slots for Passives ? --> #}
                                                                                <node id="ReplacementSlots"/>
                                                                                <node id="SelectorMeta">
                                                                                    <attribute id="IsMulticlass" type="bool" value="{{ passive.Multiclass|string|lower }}"/>
                                                                                    <attribute id="Level" type="int32" value="{{ passive.Level }}"/>
                                                                                    <attribute id="OwnerType" type="uint8" value="{{ passive.Type }}"/>
                                                                                    <attribute id="OwnerUUID" type="guid" value="{{ passive.Class }}"/>
                                                                                    <attribute id="ParentOwnerUUID" type="guid" value="{{ passive.Subclass }}"/>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="PassiveSelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.SkillBonuses is defined and level_up.Upgrades.SkillBonuses|length > 0 %}
                                                                <node id="SkillExpertiseSelectors">
                                                                    <children>
                                                                        {%- for skill_bonus in level_up.Upgrades.SkillBonuses %}
                                                                        <node id="SkillExpertiseSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="IsMulticlass" type="bool" value="{{ skill_bonus.Multiclass|string|lower }}"/>
                                                                            <attribute id="Level" type="int32" value="{{ skill_bonus.Level }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ skill_bonus.Skill }}"/>
                                                                            <attribute id="Mode" type="bool" value="true"/>
                                                                            <attribute id="OwnerType" type="uint8" value="{{ skill_bonus.Type }}"/>
                                                                            <attribute id="OwnerUUID" type="guid" value="{{ skill_bonus.Class }}"/>
                                                                            <attribute id="ParentOwnerUUID" type="guid" value="{{ skill_bonus.Subclass }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value=""/>
                                                                            <children>
                                                                                <node id="Slots">
                                                                                    <children>
                                                                                        {%- for value in skill_bonus.Expertise %}
                                                                                        <node id="Slot">
                                                                                            <attribute id="Value" type="uint8" value="{{ skill_map[value] }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="SkillExpertiseSelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.Skills is defined and level_up.Upgrades.Skills|length > 0 %}
                                                                <node id="SkillSelectors">
                                                                    <children>
                                                                        {%- for skill in level_up.Upgrades.Skills %}
                                                                        <node id="SkillSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="IsMulticlass" type="bool" value="{{ skill.Multiclass|string|lower }}"/>
                                                                            <attribute id="Level" type="int32" value="{{ skill.Level }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ skill.Skill }}"/>
                                                                            <attribute id="OwnerType" type="uint8" value="{{ skill.Type }}"/>
                                                                            <attribute id="OwnerUUID" type="guid" value="{{ skill.Class }}"/>
                                                                            <attribute id="ParentOwnerUUID" type="guid" value="{{ skill.Subclass }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value=""/>
                                                                            <children>
                                                                                <node id="Slots">
                                                                                    <children>
                                                                                    {%- for value in skill.Proficiencies %}
                                                                                    <node id="Slot">
                                                                                        <attribute id="Value" type="uint8" value="{{ skill_map[value] }}"/>
                                                                                    </node>
                                                                                    {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="SkillSelectors"/>
                                                                {%- endif %}
                                                                {%- if level_up.Upgrades.Spells is defined and level_up.Upgrades.Spells|length > 0 %}
                                                                <node id="SpellSelectors">
                                                                    <children>
                                                                        {%- for spell in level_up.Upgrades.Spells %}
                                                                        <node id="SpellSelector">
                                                                            <attribute id="DefinitionIndex" type="int32" value="{{ loop.index0 }}"/>
                                                                            <attribute id="ListUUID" type="guid" value="{{ spell.SpellList }}"/>
                                                                            <attribute id="SelectorId" type="LSString" value="{{ spell.SelectorId }}"/>
                                                                            <children>
                                                                                <node id="AdditionSlots">
                                                                                    <children>
                                                                                        {%- for new_spell in spell.Spells %}
                                                                                        <node id="AdditionSlot">
                                                                                            <attribute id="Value" type="FixedString" value="{{ new_spell }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                                {%- if spell.ReplaceSpells is defined and spell.ReplaceSpells|length > 0 %}
                                                                                <node id="ReplacementSlots">
                                                                                    <children>
                                                                                        {%- for old_spell in spell.ReplaceSpells %}
                                                                                        <node id="ReplacementSlot">
                                                                                            <attribute id="NewValue" type="FixedString" value="{{ old_spell.To }}"/>
                                                                                            <attribute id="OldValue" type="FixedString" value="{{ old_spell.From }}"/>
                                                                                        </node>
                                                                                        {%- endfor %}
                                                                                    </children>
                                                                                </node>
                                                                                {%- else %}
                                                                                <node id="ReplacementSlots"/>
                                                                                {%- endif %}
                                                                                <node id="SelectorMeta">
                                                                                    <attribute id="IsMulticlass" type="bool" value="{{ spell.Multiclass|string|lower }}"/>
                                                                                    <attribute id="Level" type="int32" value="{{ spell.Level }}"/>
                                                                                    <attribute id="OwnerType" type="uint8" value="{{ spell.Type }}"/>
                                                                                    <attribute id="OwnerUUID" type="guid" value="{{ spell.Class }}"/>
                                                                                    <attribute id="ParentOwnerUUID" type="guid" value="{{ spell.Subclass }}"/>
                                                                                </node>
                                                                            </children>
                                                                        </node>
                                                                        {%- endfor %}
                                                                    </children>
                                                                </node>
                                                                {%- else %}
                                                                <node id="SpellSelectors"/>
                                                                {%- endif %}
                                                            </children>
                                                        </node>
                                                    </children>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="PointBuyAbilities">
                                            <children>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[0] }} "/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[1] }}"/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[2] }}"/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[3] }}"/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[4] }}"/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[5] }}"/>
                                                </node>
                                                <node id="PointBuyAbility">
                                                    <attribute id="Object" type="int32" value="{{ character.CharacterCreationStats.Abilities[6] }}"/>
                                                </node>
                                            </children>
                                        </node>
                                    </children>
                                </node>
                                {#- <!-- TODO Items --> #}
                                <node id="Items">
                                    <children>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="2"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="d47006e9-8a51-453d-b200-9e0d42e9bbab"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="0"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="d47006e9-8a51-453d-b200-9e0d42e9bbab"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="OBJ_Potion_Healing"/>
                                                    <attribute id="UUID" type="guid" value="14efb687-511d-f278-79c1-78d9e5ec74a8"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="c1c3e4fb-d68c-4e10-afdc-d4550238d50e"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="1"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="c1c3e4fb-d68c-4e10-afdc-d4550238d50e"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="OBJ_Scroll_Revivify"/>
                                                    <attribute id="UUID" type="guid" value="d6963b16-0fd7-c17f-f865-5c93a5ab7a90"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="ee329627-dbee-405f-b9a6-b260de9ad34c"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="144115192370824797"/>
                                                    <attribute id="InventorySlot" type="uint16" value="2"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="ee329627-dbee-405f-b9a6-b260de9ad34c"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="OBJ_Keychain"/>
                                                    <attribute id="UUID" type="guid" value="31b54913-2f72-392f-34b9-6420aac2762a"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="b7543ff4-5010-4c01-9bcd-4da1047aebfc"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="144115192370824794"/>
                                                    <attribute id="InventorySlot" type="uint16" value="3"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="b7543ff4-5010-4c01-9bcd-4da1047aebfc"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="OBJ_Bag_AlchemyPouch"/>
                                                    <attribute id="UUID" type="guid" value="a9f7d79a-cb25-e32e-cde5-1e8274f72ecd"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="efcb70b7-868b-4214-968a-e23f6ad586bc"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="144115192370824793"/>
                                                    <attribute id="InventorySlot" type="uint16" value="4"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="efcb70b7-868b-4214-968a-e23f6ad586bc"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="OBJ_Backpack_CampSupplies"/>
                                                    <attribute id="UUID" type="guid" value="153d0b59-9ee9-8f99-bf5a-1d0dcf90b6c9"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="97f37571-35e8-4cc8-8b0d-ff92d20ae0bb"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="9"/>
                                                    <attribute id="IsEquipped" type="bool" value="true"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="97f37571-35e8-4cc8-8b0d-ff92d20ae0bb"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="ARM_Shoes"/>
                                                    <attribute id="UUID" type="guid" value="3605dfc6-0bfc-6c46-3dfc-b5778de24fd1"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="799fd23a-8e18-4642-8650-521dd7880c2b"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="1"/>
                                                    <attribute id="IsEquipped" type="bool" value="true"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="799fd23a-8e18-4642-8650-521dd7880c2b"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="ARM_Robe_CultOfAbsolute"/>
                                                    <attribute id="UUID" type="guid" value="6cc2d907-38d6-93c0-7cb9-d8b899ba92c4"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="f369f4fa-2da7-4693-a147-16cfaf02bca5"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="17"/>
                                                    <attribute id="IsEquipped" type="bool" value="true"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="f369f4fa-2da7-4693-a147-16cfaf02bca5"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="ARM_Camp_Body"/>
                                                    <attribute id="UUID" type="guid" value="9bd384a7-c369-06a5-5531-bf609c7cbb2c"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="6bb7a595-7646-48a9-9c44-d39f16c1c5cb"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="18"/>
                                                    <attribute id="IsEquipped" type="bool" value="true"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="6bb7a595-7646-48a9-9c44-d39f16c1c5cb"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="ARM_Camp_Shoes"/>
                                                    <attribute id="UUID" type="guid" value="3b905245-78f7-654a-3576-442312167964"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="d692d48f-9a39-4001-8a38-c01e397953dc"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="8"/>
                                                    <attribute id="IsEquipped" type="bool" value="true"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="dd692d48f-9a39-4001-8a38-c01e397953dc"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="ARM_Underwear_Gnomes"/>
                                                    <attribute id="UUID" type="guid" value="a6d0569b-70c0-e76a-972a-28029e9c7b53"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                        <node id="Item">
                                            <attribute id="Level" type="FixedString" value=""/>
                                            <children>
                                                <node id="ItemDefinition">
                                                    <attribute id="Active" type="bool" value="false"/>
                                                    <attribute id="Amount" type="int32" value="1"/>
                                                    <attribute id="CanBeMoved" type="bool" value="false"/>
                                                    <attribute id="CanBePickedUp" type="bool" value="false"/>
                                                    <attribute id="CanBeUsed" type="bool" value="false"/>
                                                    <attribute id="CanUse" type="bool" value="false"/>
                                                    <attribute id="ID" type="FixedString" value="d9c87013-1f41-4c17-b71d-f353ec0d64e8"/>
                                                    <attribute id="INVISIBLE" type="bool" value="false"/>
                                                    <attribute id="Inventory" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="InventorySlot" type="uint16" value="5"/>
                                                    <attribute id="IsEquipped" type="bool" value="false"/>
                                                    <attribute id="IsKey" type="bool" value="false"/>
                                                    <attribute id="ItemGroup" type="FixedString" value="Common"/>
                                                    <attribute id="Key" type="FixedString" value=""/>
                                                    <attribute id="Known" type="bool" value="false"/>
                                                    <attribute id="LockDifficultyClassID" type="guid" value="00000000-0000-0000-0000-000000000000"/>
                                                    <attribute id="OriginalTemplate" type="FixedString" value="d9c87013-1f41-4c17-b71d-f353ec0d64e8"/>
                                                    <attribute id="Parent" type="uint64" value="18428729675200069632"/>
                                                    <attribute id="StatsID" type="FixedString" value="WPN_Club"/>
                                                    <attribute id="UUID" type="guid" value="62d6ee50-a705-ef89-e0ee-1abce9a07fb5"/>
                                                    <attribute id="UnEquipLocked" type="bool" value="false"/>
                                                    <attribute id="UseRemotely" type="bool" value="false"/>
                                                </node>
                                            </children>
                                        </node>
                                    </children>
                                </node>
                                {%- if character.PlayerPrepareSpell.Spells is defined and character.PlayerPrepareSpell.Spells|length > 0 %}
                                <node id="PrepareSpells">
                                    <children>
                                        {%- for prepared in character.PlayerPrepareSpell.Spells %}
                                        <node id="PreparedSpell">
                                            <attribute id="OriginatorPrototype" type="FixedString" value="{{ prepared.OriginatorPrototype }}"/>
                                            <attribute id="ProgressionSource" type="guid" value="{{ prepared.ProgressionSource }}"/>
                                            <attribute id="SourceType" type="uint8" value="{{ spell_source_map[prepared.SourceType] }}"/>
                                        </node>
                                        {%- endfor %}
                                    </children>
                                </node>
                                {%- else %}
                                <node id="PrepareSpells"/>
                                {%- endif %}
                                {%- if character.AddedSpells.Spells is defined and character.AddedSpells.Spells|length > 0 %}
                                <node id="Spells">
                                    <children>
                                        {%- for spell in character.AddedSpells.Spells %}
                                        <node id="Spell">
                                            <attribute id="CastResource" type="guid" value="{{ spell.SpellUUID }}"/>
                                            <attribute id="CastingAbility" type="uint8" value="{{ attribute_map[spell.SpellCastingAbility] }}"/>
                                            <attribute id="CooldownType" type="uint8" value="{{ cooldown_type_map[spell.CooldownType] }}"/>
                                            {#- <!-- What is this --> #}
                                            <attribute id="LearningStrategy" type="uint8" value="0"/>
                                            <attribute id="SpellID" type="FixedString" value="{{ spell.SpellId.OriginatorPrototype }}"/>
                                            <attribute id="SpellProgressionId" type="guid" value="{{ spell.SpellId.ProgressionSource }}"/>
                                            <attribute id="SpellSourceType" type="uint8" value="{{ spell_source_map[spell.SpellId.SourceType] }}"/>
                                        </node>
                                        {%- endfor %}
                                    </children>
                                </node>
                                {%- else %}
                                <node id="Spells"/>
                                {%- endif %}
                                <node id="Tags">
                                    <children>
                                        <node id="eoc::BackgroundTagComponent">
                                            <children>
                                                {%- for tag in character.BackgroundTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="eoc::ClassTagComponent">
                                            <children>
                                                {%- for tag in character.ClassTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        {%- if character.OriginAppearanceTag.Tags is defined and character.OriginAppearanceTag.Tags|length > 0 %}
                                        <node id="eoc::OriginAppearanceTagComponent">
                                            <children>
                                                {%- for tag in character.OriginAppearanceTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        {%- endif %}
                                        <node id="eoc::OriginTagComponent">
                                            <children>
                                                {%- for tag in character.OriginTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="esv::tags::BoostTagComponent">
                                            <children>
                                                {%- for tag in character.ServerBoostTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="esv::tags::OsirisTagComponent">
                                            <children>
                                                {%- for tag in character.ServerOsirisTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="esv::tags::RaceTagComponent">
                                            <children>
                                                {%- for tag in character.ServerRaceTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                        <node id="esv::tags::TemplateTagComponent">
                                            <children>
                                                {%- for tag in character.ServerTemplateTag.Tags %}
                                                <node id="Tags">
                                                    <attribute id="Object" type="guid" value="{{ tag }}"/>
                                                </node>
                                                {%- endfor %}
                                            </children>
                                        </node>
                                    </children>
                                </node>
                            </children>
                        </node>
                        {%- endfor %}
                    </children>
                </node>
            </children>
        </node>
    </region>
</save>